// born to corne
#include QMK_KEYBOARD_H
#include "windowdump.h"

#define LAYOUT_wrapper(...) LAYOUT_split_3x6_3(__VA_ARGS__)

// all of the sauce is in users/windowdump

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  // Basic QWERTY
  [_QWERTY] = LAYOUT_wrapper( \
    KC_ESC,  _________________QWERTY_L1_________________,                    _________________QWERTY_R1_________________, KC_DEL,  \
    MT_CTAB, _________________QWERTY_L2_________________,                    _________________QWERTY_R2_________________, KC_QUOT, \
    KC_LSFT, _________________QWERTY_L3_________________,                    _________________QWERTY_R3_________________, KC_ENT,  \
                                        KC_LALT, KC_LOWR, KC_NMBS,  KC_NVSP, KC_RASE, KC_LGUI \
  ),

  // Homerow Mods for QWERTY
  [_QWERTY_MODS] = LAYOUT_wrapper( \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
    _______, ____________QWERTY_L2_NO_HR_MODS___________,                    ____________QWERTY_R2_NO_HR_MODS___________, _______, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
                                        _______, _______, _______,  _______, _______, _______\
  ),

  // Colemak DHm
  [_COLEMAK] = LAYOUT_wrapper( \
    _______, ______________COLEMAK_MOD_DH_L1____________,                    ______________COLEMAK_MOD_DH_R1____________, _______, \
    _______, ______________COLEMAK_MOD_DH_L2____________,                    ______________COLEMAK_MOD_DH_R2____________, KC_QUOT, \
    _______, ______________COLEMAK_MOD_DH_L3____________,                    ______________COLEMAK_MOD_DH_R3____________, _______, \
                                        _______, _______, _______,  _______, _______, _______\
  ),

  // Homerow mods for Colemak
  [_COLEMAK_MODS] = LAYOUT_wrapper( \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
    _______, ________COLEMAK_MOD_DH_L2_NO_HR_MODS_______,                    ________COLEMAK_MOD_DH_R2_NO_HR_MODS_______, _______, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
                                        _______, _______, _______,  _______, _______, _______\
  ),

  // Hands Down Alt to flex on the Dvorak peasants
  [_HANDSDOWN] = LAYOUT_wrapper( \
    _______, ______________HANDS_DOWN_ALT_L1____________,                    ______________HANDS_DOWN_ALT_R1____________, _______, \
    _______, ______________HANDS_DOWN_ALT_L2____________,                    ______________HANDS_DOWN_ALT_R2____________, KC_SCLN, \
    _______, ______________HANDS_DOWN_ALT_L3____________,                    ______________HANDS_DOWN_ALT_R3____________, _______, \
                                        _______, _______, _______,  _______, _______, _______\
  ),

  // Homerow mods for Hands Down Alt
  [_HANDSDOWN_MODS] = LAYOUT_wrapper( \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
    _______, ________HANDS_DOWN_ALT_L2_NO_HR_MODS_______,                    ________HANDS_DOWN_ALT_R2_NO_HR_MODS_______, _______, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
                                        _______, _______, _______,  _______, _______, _______\
  ),

  // Disable tapping functions and homerow stuff on left side.
  [_GAMER] = LAYOUT_wrapper( \
    KC_TAB,  ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
    KC_LCTL, ____________QWERTY_L2_NO_HR_MODS___________,                    ___________________BLANK___________________, _______, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
                                        _______, KC_GLWR, KC_BSPC,  _______, _______, _______\
  ),

  // I installed a rootkit and all I got was this lousy layer.
  [_GAMER2] = LAYOUT_wrapper( \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, KC_BSPC, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
                                        _______, KC_GLWR, KC_SPC,   _______, _______, _______\
  ),

  // greetz to @ZUN_CODE
  [_TOUHOU] = LAYOUT_wrapper( \
    _______, ___________________BLANK___________________,                    _______, _______, KC_UP,   _______, _______, TG_TOHO, \
    _______, ________________TOUHOU_LEFT________________,                    ________________TOUHOU_RIGHT_______________, KC_LCTL, \
    _______, ___________________BLANK___________________,                    ___________________BLANK___________________, _______, \
                                        _______, _______, KC_X,     KC_X,    KC_Z,    KC_C   \
  ),

  // Extra access to numbers, shifted number symbols, and function keys.
  [_NUMBERS] = LAYOUT_wrapper( \
    _______, _______________SYMBOLS_LEFT________________,                    _______________SYMBOLS_RIGHT_______________, _______, \
    _______, ________________NUMBER_LEFT________________,                    ________________NUMBER_RIGHT_______________, KC_F12,  \
    _______, _________________FUNC_LEFT_________________,                    _________________FUNC_RIGHT________________, KC_F11,  \
                                        _______, _______, V_V_V_V,  _______, _______, _______\
  ),

  // Arrow keys, window switching, tab switching.
  [_NAV] = LAYOUT_wrapper( \
    _______, __________________NAV_L1___________________,                    __________________NAV_R1___________________, _______, \
    _______, __________________NAV_L2___________________,                    __________________NAV_R2___________________, _______, \
    _______, __________________NAV_L3___________________,                    __________________NAV_R3___________________, _______, \
                                        _______, _______, _______,  V_V_V_V, _______, _______\
  ),

  // Gaming lower layer, access to all the number keys and F1-F5 on left half.
  [_GLOWER] = LAYOUT_wrapper( \
    KC_ESC,  ________________NUMBER_RIGHT_______________,                    _________________LOWER_R1__________________, KC_LBRC, \
    _______, ________________NUMBER_LEFT________________,                    _________________LOWER_R2__________________, KC_RBRC, \
    KC_F12,  _________________FUNC_LEFT_________________,                    _________________FUNC_RIGHT________________, KC_F11,  \
                                        _______, V_V_V_V, _______,  _______, KC_ADJS, _______\
  ),

  // One-handed arrow keys and symbols
  [_LOWER] = LAYOUT_wrapper( \
    KC_GRV,  _________________LOWER_L1__________________,                    _________________LOWER_R1__________________, KC_LBRC, \
    _______, _________________LOWER_L2__________________,                    _________________LOWER_R2__________________, KC_RBRC, \
    _______, _________________LOWER_L3__________________,                    _________________LOWER_R3__________________, _______, \
                                        _______, V_V_V_V, _______,  _______, KC_ADJS, _______\
  ),

  // Mouse keys and numpad
  [_RAISE] = LAYOUT_wrapper( \
    KC_TILD, _________________RAISE_L1__________________,                    _________________RAISE_R1__________________, KC_PAST, \
    _______, _________________RAISE_L2__________________,                    _________________RAISE_R2__________________, KC_PPLS, \
    _______, _________________RAISE_L3__________________,                    _________________RAISE_R3__________________, KC_PENT, \
                                        _______, KC_ADJS, KC_DEL,   _______, TG(_RAISE), KC_0\
  ),

  // Media controls and layer toggles
  [_ADJUST] = LAYOUT_wrapper( \
    RESET,   _________________ADJUST_L1_________________,                    _________________ADJUST_R1_________________, KC_PSCR, \
    _______, _________________ADJUST_L2_________________,                    _________________ADJUST_R2_________________, A(KC_PSCR), \
    NK_TOGG, _________________ADJUST_L3_________________,                    _________________ADJUST_R3_________________, _______, \
                                        _______, V_V_V_V, _______,  _______, V_V_V_V, _______\
  )
};

#ifdef OLED_DRIVER_ENABLE
oled_rotation_t oled_init_user(oled_rotation_t rotation) {
    if (is_keyboard_left())
        return OLED_ROTATION_270;
    return OLED_ROTATION_180;
}

void oled_render_logo(void) {
    // LCOHOLIS
    // static const char PROGMEM raw_logo[] = {
        // 128,224,224,224,243,255,255,255,255,255,255,255,255,255,127, 15,  7,135,199,199,207,207,207,143, 31, 62,126,124,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        // 0,  1,  7, 63,231,199,199,135,143,159, 31,127,255,255,255,252,248,248,240,240,240,241,243,247,246,240,248,248,  0,255,255,255,  0,  0,  0,  0,  0,  0,  0,224,248,252, 30, 14,  7,  7,  7,  7,  7, 14, 30, 28,  8,224,248,252, 30, 15,  7,  7,  7,  7,  7, 14, 30,252,248,224,  0,255,255,255,192,192,192,192,192,192,255,255,255,  0,224,248,252, 30, 15,  7,  7,  7,  7,  7, 14, 30,252,248,224,  0,255,255,255,  0,  0,  0,  0,  0,  0,  0,  0,255,255,255,  0,  0, 60,126,254,239,199,199,199,199,143,158, 30, 24,  0,  0,
        // 8, 28, 28, 28, 60, 63, 63,127,127,127,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,  0,255,255,255,224,224,224,224,224,224,224,  7, 31, 63,120,240,224,224,224,224,224,112,120, 56, 16,  7, 31, 63,120,240,224,224,224,224,224,240,120, 63, 31,  7,  0,255,255,255,  1,  1,  1,  1,  1,  1,255,255,255,  0,  7, 31, 63,120,240,224,224,224,224,224,240,120, 63, 31,  7,  0,255,255,255,224,224,224,224,224,224,224,  0,255,255,255,  0, 12, 60,124,120,240,225,225,225,225,243,127,127, 30,  0,
        // 0,248,248,252,252,252,254,254,254,252,252,248,248,241,241,243,227,227,243,243,251,255,255,255,255,255,255,255,255,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        // 0,
    // };
    // ZUNart
    static const char PROGMEM raw_logo[] = {
        128,  0,  0,  0,  0,  0,  0,  0,128,  0,168,240,234,252,190,124,186, 28, 32,  0,136,  0,  0,  0,136,  0, 32,  0,138,  3,  3,  3,138, 95, 59,127,174,127,187, 87,138,  0,  0,  0,136,  0,  2,  3,130,131,130,  4,174, 60, 62, 60,168,128,162,  4,174, 60, 62, 60,170,  0,170,  0,138,  0,170,  0,170,  0,170,  0,170,  4,170,  0,170, 92,186,125,170, 93,170,  1,170, 68,170,  0,170, 68,170,  1,170,245,235,243,234,196,170,  0,170,  0,170,  0,170,228,234,224,234, 64,170,  0,170,192,170,  0,168,
        64,170,240,234,240,170,240,138, 31,190,255,174,196,160,192,136,192,160,193,136,  1,  2,  0,136,  0, 32,  0,136,  0,  2,  0,136,  0,168,240,232,240,232, 64,128,  4,170,124,248,124,170, 62,190, 60, 42,  0,  8,  0,  0, 64,234,239,239,207,174,  4,  2,  0,170,207,175,223,142,  4, 34,  0,136,128,162,  0,136,  0, 42, 96,232,224,226,192,136,  0,170,  0,170, 92,186,124,174,124,186,124,168,  0,170,  0,138,  0, 42,  0,136, 92,186,125,186,127, 63, 63,190,252,170,240,234,241,171,227,234,253,186,252,238,255,250,255,254,
        28,202,175,170,175,234,  3,170, 95,190,255,238,255,191,255,238,255,170,241,168,192,170,255,234,252,250,248,232,252,168, 92,168,208,160,240,232,240,160,192,136,192,160,192,168, 64,  0,  0,168,196,168,252,248,124,168,224,234,193,227,195,138,  0,160,224,234,199,163,  7,138,  0,  2,  0,138, 15,175,207,174,196,130,  0,138,223,187,127,234,252,234,240,168,208,186,248,232,248,170, 64,168,208,248,240,234,255,234,252,232,248,232,248,168, 92, 42, 28,170,255,190,255,254,255,190,255,170,255,250,241,234, 95, 46, 31,174, 
        0,172,170,204,170,174,  0,136,  0,  2,  7,138,  1,  2,  1,136,  0,186,253,238,255,186,127,174, 95, 47, 31,142,207,138,159,170,127,171,255,254,255,191,255,254,255,186,127,174,124,186,124,234,255,250,255,254,255,186,255,234,247,227,247,238,252,250,255,238,255,250,255,234,253,234,241,232, 92,170,255,238,255,254,255,254,255,175,223,142, 29, 42, 63,238,255,191,255,254,127,190,127,170,193,162,  3, 10, 95,171,127,175, 31, 43, 31,138, 28, 42,  0,136,  1, 10, 23,170,125,186,120,232,224,224,192,168,  0, 32,  0,136, 
        0,108,138,140,138,234,  0,
    };
    oled_write_raw_P(raw_logo, sizeof(raw_logo));
}

void oled_task_user(void) {
    if (is_keyboard_left()) {
        oled_render_layer_state();
    } else {
        oled_render_logo();
    }
}
#endif // OLED_DRIVER_ENABLE
